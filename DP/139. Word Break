class Solution {
    public boolean solve(int id , List<String> Dict, String s, int[] dp){
        if(id==s.length())
        return true;
        if (dp[id] != -1)
            return dp[id] == 1;
        for(int i=id;i<s.length();i++){
            String str = s.substring(id,i+1);
            if(Dict.contains(str)){
                if(solve(i+1,Dict,s,dp)){
                    dp[id] = 1;
                    return true;
                }
            }
        }
        dp[id] = 0;
        return false;
    }
    public boolean wordBreak(String s, List<String> wordDict) {
        int[] dp = new int[s.length()];
        Arrays.fill(dp, -1);
        if(wordDict.contains(s))
        return true;
        return solve(0,wordDict,s,dp);
    }
}
